<div class="col-10 md:col-3 lg:col-2 no-padding">
    <app-menu></app-menu>
</div>
<div class="col-12 md:col-12 lg:col-12">
    <div class="grid to-center">
        <div class="col-10 md:col-10 lg:col-8 box-shadow">
            <div #main class="col-12 form-border">
                <div class="col-12 header">
                    <span>தினசரி செய்தி பதிவு/Daily News Entry</span>
                </div>
                <p-toast position="top-center" key="t-msg"></p-toast>

                <!-- <form  #f="ngForm" name="dailynewsform">  -->
                <div #outerdiv class="col-12">
                    <div #innerdiv class="col-12">
                        <div class="col-12"></div>
                        <div class="grid to-center">
                            <div class="col-10 md:col-2 lg:col-4">
                                <span class="p-float-label">
                                    <input type="text" pInputText [(ngModel)]="newsTitle" />
                                    <label for="float-input">News Topic</label>
                                </span>
                            </div>
                            <!-- <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <input type="text" pInputText [(ngModel)]="newsTitle" />
                                    <label for="float-input">Translation</label>
                                </span>
                            </div> -->
                            <div class="col-10 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <p-dropdown [options]="priorityOptions" [(ngModel)]="priority" [autoDisplayFirst]="false"></p-dropdown>
                                    <label for="float-input">Priority Level</label>
                                </span>
                            </div>
                            <div class="col-10 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <input pInputText  type="file" (change)="uploadFile($event)"
                                        accept=".png" required />
                                    <!-- <input type="file" pInputText [(ngModel)]="filename" /> -->
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="grid to-center">
                            <div class="col-12 md:col-2 lg:col-4">
                                <span class="p-float-label">
                                    <!-- <input type="text" pInputText [(ngModel)]="newsDetail" /> -->
                                    <textarea pInputTextarea [autoResize]="true" [(ngModel)]="newsDetail"></textarea>
                                    <label for="float-input">News Details</label>
                                </span>
                            </div>
                            <!-- <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <textarea pInputTextarea [autoResize]="true" [(ngModel)]="newsDetail"></textarea>
                                    <label for="float-input">Translation</label>
                                </span>
                            </div> -->
                            <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <p-dropdown [options]="displayOptions" [(ngModel)]="display" [autoDisplayFirst]="false"></p-dropdown>
                                    <label for="float-input">Display Side</label>
                                </span>
                            </div>
                            <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <input type="text" pInputText [(ngModel)]="location" />
                                    <label for="float-input">Location</label>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="grid" style="margin-left: 8%">
                            <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <p-dropdown [options]="districtOptions" [(ngModel)]="district" (onClick)="onSelect('D')" [autoDisplayFirst]="false"></p-dropdown>
                                    <label for="float-input">District</label>
                                </span>
                            </div>
                            <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <p-dropdown [options]="stateOptions" [(ngModel)]="state" (onClick)="onSelect('S')" [autoDisplayFirst]="false"></p-dropdown>
                                    <label for="float-input">State</label>
                                </span>
                            </div>
                            <div class="col-12 md:col-2 lg:col-3">
                                <span class="p-float-label">
                                    <p-dropdown [options]="countryOptions" [(ngModel)]="country" (onClick)="onSelect('C')" [autoDisplayFirst]="false"></p-dropdown>
                                    <label for="float-input">Country</label>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- </form> -->
                <div class="col-12 div-txt-align-ct">
                    <button pButton type="button" icon="pi pi-fw pi-save" label="Save" (click)="onSave()"></button>&nbsp;
                    <button pButton type="button" icon="pi pi-fw pi-save" label="View" (click)="onView()"></button>
                </div>
                <div *ngIf="showTable"> 
                <p-table [value]="dailyNewsdata" styleClass="p-datatable-gridlines" [paginator]="true" [rows]="40"
                    [rowsPerPageOptions]="[10,20,30,40]" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 50px;">S.No</th>
                            <th>News Topic</th>
                            <th>News Details</th>
                            <th>Display Side</th>
                            <th>Priority Level</th>
                            <th>Location</th>
                            <th>District</th>
                            <th>State</th>
                            <th>Country</th>
                            <th>Image</th>
                            <th>Edit/Update</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr class="tr-border">
                            <td class="td-border">
                                <span class="p-column-title">
                                    S.No :
                                </span>
                                <span style="text-align: end;">
                                    {{rowIndex+1}}
                                </span>
                            </td>

                            <td class="td-border">
                                <span class="p-column-title">
                                    News Topic :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.newstitle}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                    News Details:
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.details}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                    Display Side :
                                </span>
                                <span style="text-align: end;">
                                    Center
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                    Priority Level :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.priority}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                    Location :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.location}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                   District :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.district}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                    State :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.state}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                   Country :
                                </span>
                                <span style="text-align: end;">
                                    {{rowData.country}}
                                </span>
                            </td>
                            <td class="td-border">
                                <span class="p-column-title">
                                   Image :
                                </span>
                                <span (click)="showImage(rowData.url)" style="text-align: end;">
                                    <img [src]="rowData.url" [alt]="rowData.image" width="60px" height="70px"
                                    class="p-shadow-4" />
                                </span>
                            </td>
                            <td>
                                <span class="p-column-title">
                                    Edit/Update :
                                </span><span><button icon="pi pi-pencil" pButton type="button" pTooltip="Tap to edit"
                                        (click)="onEdit(rowData)">
                                    </button></span>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
                <p-dialog #dialog header="Uploaded News Image" [(visible)]="showDialog" [modal]="showDialog" [maximizable]="true"
                [style]="{width: '60vw', height: '60vw'}">
                <img alt="News Image" [src]="NewsImage" style="vertical-align: middle" />
            </p-dialog>
            </div>
        </div>
    </div>
</div>